(this.webpackJsonpcomp308project=this.webpackJsonpcomp308project||[]).push([[0],{105:function(e,t,r){},131:function(e,t,r){"use strict";r.r(t);r(93);var n,a=r(1),c=r.n(a),s=r(32),i=r.n(s),o=r(19),u=r(48),l=r(39),j=r(17),p=Object.freeze({LOGIN:1,LOGOUT:2,JOIN_GROUP:3,LEAVE_GROUP:4,SET_MY_GROUPS:5,REFRESH:6,RESET:7}),h=r(65),b=r.n(h),d={token:null,me:null,myGroups:[],myChallenges:[]},O=(n={},Object(l.a)(n,p.LOGIN,(function(e,t){return Object(j.a)(Object(j.a)({},e),t)})),Object(l.a)(n,p.LOGOUT,(function(e,t){return Object(j.a)(Object(j.a)({},e),t)})),Object(l.a)(n,p.RESET,(function(e,t){return b()(d)})),Object(l.a)(n,p.REFRESH,(function(e,t){return e})),n);var x=Object(u.b)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.type,n=t.payload;return e||(e=b()(d)),"function"===typeof O[r]?O[r](e,n):(console.warn("type (".concat(r,") not mapped")),e)})),f=r(2),m=r.n(f),v=r(6),y=r(9),g=r(10),w=r(8),k=r(12),C=r(11),S=(r(105),r(106),r(107),r(81)),N=r.n(S),E="production";console.log("env: ".concat(E));var G={API_URL:"https://fat2fit-api.herokuapp.com",SESS_COOKIE:"sess"},U=r(82),F=r.n(U),T=r(16),P=r.n(T),A={Accept:"application/json","Content-Type":"application/json"},D=F.a.create({baseURL:G.API_URL,responseType:"json",params:{web:!0},withCredentials:!0});function R(e,t,r){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(m.a.mark((function e(t,r,n){var a,c,s,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},e.next=3,D(Object(j.a)({url:r,method:t,headers:A,data:n},a));case 3:if(c=e.sent,s=P()(c,"data.meta.code",200),200!==c.status||200!==s){e.next=7;break}return e.abrupt("return",P()(c,"data.data",c.data)||{});case 7:throw i=P()(c,"data.meta.msg")||c.statusText,new Error(i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q={header:function(e,t){return void 0!==t&&(A[e]=t),A[e]},authorization:function(e){return e="string"===typeof e?"Bearer ".concat(e):null,q.header("Authorization",e)},get:function(e){return R("GET",e)},post:function(e,t){return R("POST",e,t)},put:function(e,t){return R("PUT",e,t)},send:R},_=q;function M(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,_.post("/account/login",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/account/signup",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/account/logout");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.send("GET","/account/touch",null,{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/account/fitdata",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/account/questions?email=".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return $.apply(this,arguments)}function $(){return($=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/account/questions",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(m.a.mark((function e(){var t,r,n,a,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.password,n=t.token,_.authorization(n),e.prev=2,e.next=5,_.post("/account/passreset",{password:r});case 5:return a=e.sent,_.authorization(null),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(2),_.authorization(null),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var ee=r(15),te=r(18),re=r(60),ne=r(91),ae=function(e,t){return{type:p.LOGIN,payload:{me:e,token:t}}},ce=function(e){return{type:p.JOIN_GROUP,payload:e}},se=function(e){return{type:p.LEAVE_GROUP,payload:e}},ie=r(83),oe=r.n(ie),ue="#d9534f";function le(e,t){oe()({text:e,backgroundColor:t,position:"center",duration:1e3}).showToast()}var je={success:function(e){le(e,"#5cb85c")},error:function(e){le("string"===typeof e?e:e.message||String(e),ue)}},pe=Object.freeze({END_USER:"U",ADMIN:"A",CUSTOMER_REP:"C"}),he=r(0);var be={logout:function(){return{type:p.LOGOUT,payload:{me:null,token:null}}}},de=Object(o.b)((function(e,t){return Object(j.a)({},e)}),be)((function(e){var t=e.me,r=t&&t.role||null;return Object(he.jsxs)(re.a,{bg:"light",expand:"lg",children:[Object(he.jsx)(re.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(he.jsxs)(re.a.Collapse,{id:"basic-navbar-nav",children:[Object(he.jsx)(ne.a,{className:"mr-auto",children:r===pe.END_USER?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ee.b,{to:"/profile",className:"nav-link",children:"Profile"}),Object(he.jsx)(ee.b,{to:"/groups",className:"nav-link",children:"Groups"}),Object(he.jsx)(ee.b,{to:"/challenges",className:"nav-link",children:"Challenges"})]}):r===pe.ADMIN?Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(ee.b,{to:"/searchUser",className:"nav-link",children:"Search User"})}):r===pe.CUSTOMER_REP?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ee.b,{to:"/rep/challenges",className:"nav-link",children:"Challenges"}),Object(he.jsx)(ee.b,{to:"/rep/rewards",className:"nav-link",children:"Rewards"})]}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(ee.b,{to:"/signup",className:"nav-link",children:"Signup"}),Object(he.jsx)(ee.b,{to:"/login",className:"nav-link",children:"Login"})]})}),r&&Object(he.jsx)(ee.b,{to:"/login",className:"nav-link mr-0",onClick:function(){(function(){return z.apply(this,arguments)})().then((function(){e.logout()})).catch((function(t){e.logout()}))},children:"Logout"})]})]})})),Oe=r(84),xe=r(137),fe=r(133),me=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={sending:!1},n.trySending=n.trySending.bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"trySending",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({sending:!0}),e.prev=1,e.next=4,this.props.onSubmit(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),je.error(e.t0);case 9:this.setState({sending:!1});case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget;if(t.checkValidity()){var r=new FormData(t),n={};r.forEach((function(e,t){return n[t]=e})),this.trySending(n)}}},{key:"render",value:function(){return Object(he.jsx)("form",{onSubmit:this.onSubmit,children:this.props.children(this.state.sending)})}}]),r}(c.a.Component),ve=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).tryLogin=n.tryLogin.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryLogin",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:r=e.sent,this.props.login(r.user,r.token),_.header("Authorization","Bearer ".concat(r.token)),je.success("Successfully logged in"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),je.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.me?Object(he.jsx)(te.a,{to:"/"}):Object(he.jsx)("div",{children:Object(he.jsxs)(Oe.a,{className:"w-50",children:[Object(he.jsx)("h1",{children:"Login"}),Object(he.jsx)("hr",{}),Object(he.jsx)(me,{onSubmit:this.tryLogin,children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(xe.a.Control,{type:"email",className:"rounded-pill my-3",placeholder:"Email",name:"email",required:!0}),Object(he.jsx)(xe.a.Control,{type:"password",className:"rounded-pill my-3",placeholder:"Password",name:"password",required:!0}),Object(he.jsx)(fe.a,{variant:"success",type:"submit",className:"rounded-pill mt-2 w-100",disabled:e,children:"Login"})]})}}),Object(he.jsx)(ee.b,{to:"/passreset",children:"Forgot password?"})]})})}}]),r}(c.a.Component),ye={login:ae},ge=Object(o.b)((function(e,t){return Object(j.a)({},e)}),ye)(ve),we=(r(78),function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={successful:!1},n.trySignup=n.trySignup.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"trySignup",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:e.sent,je.success("SUCCESS"),this.setState({successful:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),je.error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.successful?Object(he.jsx)(te.a,{to:"/login"}):Object(he.jsxs)("div",{className:"signUpForm-v2",children:[Object(he.jsx)("h2",{children:"Sign Up"}),Object(he.jsx)("hr",{}),Object(he.jsx)(me,{onSubmit:this.trySignup,children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("p",{className:"tableSection",children:"Personal Information"}),Object(he.jsxs)("p",{className:"double",children:[Object(he.jsx)("label",{htmlFor:"firstName",className:"floatLabel",type:"text",children:"First Name"}),Object(he.jsx)("input",{type:"text",placeholder:"John",name:"firstName",required:!0}),Object(he.jsx)("label",{htmlFor:"lastName",className:"floatLabel",type:"text",children:"Last Name"}),Object(he.jsx)("input",{type:"text",placeholder:"Doe",name:"lastName",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"email",className:"floatLabel",type:"text",children:"Email"}),Object(he.jsx)("input",{type:"text",placeholder:"someone@example.com",name:"email",required:!0})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("p",{className:"tableSection",children:"Account Information"}),Object(he.jsxs)("p",{className:"double",children:[Object(he.jsx)("label",{htmlFor:"studentNumber",className:"floatLabel",type:"text",children:"Student Number"}),Object(he.jsx)("input",{type:"text",placeholder:"300941374",name:"studentNumber",required:!0}),Object(he.jsx)("label",{htmlFor:"program",className:"floatLabel",type:"text",children:"Program"}),Object(he.jsx)("input",{type:"text",placeholder:"Game Programming",name:"program",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"phone",className:"floatLabel",type:"text",children:"Phone"}),Object(he.jsx)("input",{type:"text",placeholder:"1111234567",name:"phone",required:!0})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("p",{className:"tableSection",children:"Address"}),Object(he.jsxs)("p",{className:"double",children:[Object(he.jsx)("label",{htmlFor:"address",className:"floatLabel",type:"text",children:"Address"}),Object(he.jsx)("input",{type:"text",placeholder:"47 Some Street",name:"address",required:!0}),Object(he.jsx)("label",{htmlFor:"city",className:"floatLabel",type:"text",children:"City"}),Object(he.jsx)("input",{type:"text",placeholder:"Toronto",name:"city",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"password",className:"floatLabel",type:"text",children:"Password"}),Object(he.jsx)("input",{type:"password",placeholder:"*******",name:"password",required:!0})]}),Object(he.jsx)("button",{disabled:e,type:"submit",children:"Sign Up"})]})}})]})}}]),r}(c.a.Component)),ke={};function Ce(){return(Ce=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/group/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(v.a)(m.a.mark((function e(){var t,r,n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r=t.name,e.next=3,_.post("/group/create",{name:r});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(v.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/group/".concat(t,"/activity/create"),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/group/mine");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/group/join/".concat(t),ke);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/group/leave/".concat(t),ke);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=r(134),Ae=r(87),De=r(85),Re=r(139),Le=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={disableLeave:!1},n.tryLeaveGroup=n.tryLeaveGroup.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryLeaveGroup",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({disableLeave:!0}),t=P()(this.props,"group._id"),e.prev=2,!t){e.next=8;break}return e.next=6,Fe(t);case 6:e.next=9;break;case 8:throw new Error("Invalid group id");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),je.error(e.t0);case 14:this.setState({disableLeave:!1});case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.group||{},t=e.coach,r="string"===typeof t?t:P()(t,"_id"),n=P()(this.props,"me._id");return Object(he.jsxs)(Re.a,{className:"mx-auto w-75 mb-4",children:[Object(he.jsxs)(Re.a.Header,{className:"d-flex justify-content-between",children:[Object(he.jsxs)(ee.b,{to:"/groups/".concat(e._id),className:"h4 text-dark",children:["[",e._id,"] ",e.name]}),Object(he.jsx)(fe.a,{onClick:this.tryLeaveGroup,variant:"danger",className:"h-50 mr-0 w-10",size:"sm",disabled:this.state.disableLeave||r===n,children:"Leave"})]}),Object(he.jsx)(Re.a.Body,{children:Object(he.jsxs)(Re.a.Text,{children:["Coach:"," ","string"===typeof t?t:Object(he.jsxs)("span",{children:[t.firstName," ",t.lastName]}),Object(he.jsx)("br",{}),"Members: ",Object(he.jsx)("span",{className:"text-success",children:P()(e,"members.length",0)}),Object(he.jsx)("br",{}),"Activities: ",Object(he.jsx)("span",{className:"text-success",children:P()(e,"activities.length",0)}),Object(he.jsx)("br",{})]})})]})}}]),r}(c.a.Component),qe={joinGroup:ce,leaveGroup:se},_e=Object(o.b)((function(e,t){return Object(j.a)({},e)}),qe)(Le),Me="Must be logged in",Ie="Already logged in",We=!0;var Ve=Object(o.b)((function(e,t){return Object(j.a)({},e)}),null)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.me,r=e.redirect,n=e.message,a=e.role,c=e.flipped,s=void 0!==c&&c,i=e.children,o=t&&t.role||null;if(!t===!!s){if(!a)return i;if(o===a)return i}return We&&je.error(n||(s?Ie:Me)),We=!We,Object(he.jsx)(te.a,{to:r||"/login"})})),ze=r(136);function He(e){return Object(he.jsxs)(ze.a,{show:e.show,size:"lg","aria-labelledby":"createGroupDialogTitle",onHide:function(){return e.onClose(!1)},centered:!0,children:[Object(he.jsx)(ze.a.Header,{closeButton:!0,children:Object(he.jsx)(ze.a.Title,{id:"createGroupDialogTitle",children:"Create Group"})}),Object(he.jsx)(ze.a.Body,{children:Object(he.jsx)(me,{onSubmit:function(t){return function(){return Se.apply(this,arguments)}(t).then((function(t){e.onClose(!0)}))},children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(De.a,{name:"name",placeholder:"Group Name",required:!0}),Object(he.jsx)(fe.a,{variant:"success",type:"submit",disabled:e,children:"CREATE"})]})}})})]})}var Be=r(89);function Je(){return Object(he.jsx)(Oe.a,{className:"mt-3 mx-auto",children:Object(he.jsx)(Be.a,{animation:"border",role:"status"})})}var Ke=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={groups:[],showCreateGroup:!1},n.tryGettingGroups=n.tryGettingGroups.bind(Object(w.a)(n)),n.tryJoinGroup=n.tryJoinGroup.bind(Object(w.a)(n)),n.onCreateGroupClose=n.onCreateGroupClose.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryGettingGroups",value:function(){var e=this;(function(){return Ee.apply(this,arguments)})().then((function(t){e.setState({groups:t})})).catch(je.error)}},{key:"onCreateGroupClose",value:function(e){this.setState({showCreateGroup:!1}),e&&this.tryGettingGroups()}},{key:"tryJoinGroup",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,r,n=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=t.groupCode,e.prev=1,e.next=4,Ge(r);case 4:this.tryGettingGroups(),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.tryGettingGroups()}},{key:"render",value:function(){var e=this,t=this.state.groups;return Array.isArray(t)?Object(he.jsxs)(Oe.a,{className:"py-4",children:[Object(he.jsxs)(Pe.a,{children:[Object(he.jsxs)(Ae.a,{className:"h3",children:["My Groups\xa0\xa0",Object(he.jsx)(fe.a,{variant:"outline-info",size:"sm",onClick:function(){return e.setState({showCreateGroup:!0})},children:"Create"})]}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(me,{onSubmit:this.tryJoinGroup,children:function(e){return Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)(Pe.a,{children:[Object(he.jsx)(Ae.a,{sm:4,children:Object(he.jsx)(De.a,{type:"text",placeholder:"Group Code",name:"groupCode",required:!0})}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(fe.a,{variant:"success",type:"submit",disabled:e,children:"JOIN"})})]})})}})})]}),Object(he.jsx)("hr",{}),t.map((function(e,t){return Object(he.jsx)(_e,{group:e},t)})),Object(he.jsx)(He,{show:this.state.showCreateGroup,onClose:this.onCreateGroupClose})]}):Object(he.jsx)(Je,{})}}]),r}(c.a.Component);function Ye(){return Object(he.jsx)(Ve,{children:Object(he.jsx)(Ke,{})})}var Qe=r(138),$e=r(135),Xe=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={sort:null},n.arrayWrapChildren=n.arrayWrapChildren.bind(Object(w.a)(n)),n.craftOnClick=n.craftOnClick.bind(Object(w.a)(n)),n.setSort=n.setSort.bind(Object(w.a)(n)),n.header=n.header.bind(Object(w.a)(n)),n.sortedData=n.sortedData.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"arrayWrapChildren",value:function(){return void 0===this.props.children?[]:Array.isArray(this.props.children)?this.props.children:[this.props.children]}},{key:"setSort",value:function(e){e!==this.state.sort&&this.setState({sort:e})}},{key:"craftOnClick",value:function(e){var t=this;return e?function(){return t.setSort(e)}:null}},{key:"header",value:function(e,t){if(!e)return null;var r=e.props.sort;return r?Object(he.jsxs)("th",{onClick:this.craftOnClick(r),children:[e.props.heading,r===this.state.sort?"*":null]},t):Object(he.jsx)("th",{children:e.props.heading},t)}},{key:"cell",value:function(e,t,r){if(!e)return null;var n=e.props.children,a="function"===typeof n?n(t):t;return Object(he.jsx)("td",{children:a},r)}},{key:"sortedData",value:function(){var e=this.state.sort;return null===e?this.props.data:this.props.data.sort((function(t,r){return(t=P()(t,e,t))<(r=P()(r,e,r))?-1:t>r?1:0}))}},{key:"render",value:function(){var e=this;if(!Array.isArray(this.props.data))return console.log("UWUWUWUWUWUUWUWWWU"),null;var t=this.sortedData(),r=this.arrayWrapChildren(),n=[],a=t.map((function(t,a){var c=r.map((function(r,c){return 0===a&&n.push(e.header(r,"header#".concat(c))),e.cell(r,t,"cell#".concat(a,":").concat(c))}));return Object(he.jsx)("tr",{children:c},"row#".concat(a))}));return Object(he.jsxs)($e.a,{children:[Object(he.jsx)("thead",{children:Object(he.jsx)("tr",{children:n})}),Object(he.jsx)("tbody",{children:a})]})}}]),r}(c.a.Component);Xe.Col=function(){return null};var Ze=Xe;function et(){return(et=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/challenge/available");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/challenge/participate/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return at.apply(this,arguments)}function at(){return(at=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/challenge/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return st.apply(this,arguments)}function st(){return(st=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/challenge/progress/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=r(68),ot=/^(https?:\/\/)?(www\.)?youtu(\.be\/|be\.com\/watch\?v=)[\-\w]{11}/,ut=/[\w\-]{11}$/;var lt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={show:!1},n}return Object(g.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.hyperlink,n=t.width,a=t.height,c=this.state.show,s=r&&function(e){try{var t=e.match(ot),r=Object(it.a)(t,1)[0].match(ut);return Object(it.a)(r,1)[0]}catch(n){return console.error("Invalid Video hypelink!",n),!1}}(r);return s?(n=n||560,a=a||315,Object(he.jsx)(Pe.a,{children:Object(he.jsxs)(Ae.a,{children:[c&&Object(he.jsx)("iframe",{width:n,height:a,src:"https://www.youtube.com/embed/".concat(s),title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),Object(he.jsx)("br",{}),Object(he.jsxs)(fe.a,{variant:"success",style:{width:n},onClick:function(){return e.setState({show:!c})},children:[c?"Hide":"Watch"," Video"]})]})})):null}}]),r}(c.a.Component),jt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={disableParticipate:!1,watchVideo:!1},n.tryParticipate=n.tryParticipate.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryParticipate",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({disableParticipate:!0}),t=P()(this.props,"activity._id"),e.prev=2,e.next=5,tt(t);case 5:r=e.sent,je.success('Participated in "'.concat(P()(r,"activity.title",t),'"')),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),je.error(e.t0);case 12:this.setState({disableParticipate:!1});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.activity;return e?(console.log(e),Object(he.jsxs)(Re.a,{className:"mx-auto",children:[Object(he.jsx)(Re.a.Header,{children:Object(he.jsx)(Qe.a.Toggle,{as:fe.a,variant:"link",eventKey:this.props.ekey||"0",children:Object(he.jsx)("span",{className:"mr-0",children:e.title})})}),Object(he.jsx)(Qe.a.Collapse,{eventKey:this.props.ekey||"0",children:Object(he.jsxs)(Re.a.Body,{children:[e.description,Object(he.jsx)("br",{}),e.hyperlink,Object(he.jsx)(lt,{hyperlink:e.hyperlink})]})})]})):null}}]),r}(c.a.Component);function pt(e){return Object(he.jsxs)(ze.a,{show:e.show,size:"lg","aria-labelledby":"createActivityDialogTitle",onHide:function(){return e.onClose(!1)},centered:!0,children:[Object(he.jsx)(ze.a.Header,{closeButton:!0,children:Object(he.jsx)(ze.a.Title,{id:"createActivityDialogTitle",children:"Create Activity"})}),Object(he.jsx)(ze.a.Body,{children:Object(he.jsx)(me,{onSubmit:function(t){return function(e,t){return Ne.apply(this,arguments)}(e.groupId,t).then((function(t){e.onClose(!0)}))},children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(De.a,{name:"title",placeholder:"Title",required:!0}),Object(he.jsx)(De.a,{name:"hyperlink",placeholder:"Hyperlink (Optional)"}),Object(he.jsx)(De.a,{name:"description",placeholder:"description",required:!0}),Object(he.jsx)(fe.a,{variant:"success",type:"submit",disabled:e,children:"CREATE"})]})}})})]})}var ht=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={group:null,showCreateDialog:!1},n.tryGettingGroup=n.tryGettingGroup.bind(Object(w.a)(n)),n.onDialogClose=n.onDialogClose.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.tryGettingGroup()}},{key:"tryGettingGroup",value:function(){var e=this;(function(e){return Ce.apply(this,arguments)})(this.props.id).then((function(t){e.setState({group:t})})).catch(je.error)}},{key:"onDialogClose",value:function(e){this.setState({showCreateDialog:!1}),e&&this.tryGettingGroup()}},{key:"render",value:function(){var e=this,t=this.state.group;if(!t)return Object(he.jsx)(Je,{});var r=P()(t,"members",[]),n=P()(t,"activities",[]),a=P()(t,"coach._id")===P()(this.props,"me._id",null);return Object(he.jsxs)(Oe.a,{className:"pb-5",children:[Object(he.jsx)(_e,{group:t}),Object(he.jsxs)("h3",{children:["Members ",Object(he.jsxs)("span",{className:"text-success",children:["(",r.length||0,")"]})]}),Object(he.jsxs)(Ze,{data:r,children:[Object(he.jsx)(Ze.Col,{heading:"ID",sort:"_id",children:function(e){return Object(he.jsx)("small",{children:e._id})}}),Object(he.jsx)(Ze.Col,{heading:"Name",sort:"lastName",children:function(e){return Object(he.jsxs)("span",{children:[e.firstName," ",e.lastName]})}}),a&&Object(he.jsx)(Ze.Col,{children:function(e){return Object(he.jsx)(fe.a,{variant:"danger",size:"sm",className:"rounded-pill",children:"Remove"})}})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("br",{}),Object(he.jsxs)("h3",{children:["Activities ",Object(he.jsxs)("span",{className:"text-success",children:["(",n.length||0,")"]}),a&&Object(he.jsx)(fe.a,{className:"w-1w0",variant:"light",onClick:function(){return e.setState({showCreateDialog:!0})},children:"+"})]}),Object(he.jsx)(pt,{groupId:this.props.id,show:this.state.showCreateDialog,onClose:this.onDialogClose}),Object(he.jsx)(Qe.a,{defaultActiveKey:"0",children:n.map((function(e,t){return Object(he.jsx)(jt,{activity:e,ekey:String(t)},t)}))})]})}}]),r}(c.a.Component),bt={joinGroup:ce,leaveGroup:se},dt=Object(o.b)((function(e,t){return Object(j.a)({},e)}),bt)(ht);function Ot(){var e=Object(te.f)().id;return Object(he.jsx)(Ve,{children:Object(he.jsx)(dt,{id:e})})}var xt=r(86),ft=Object.freeze({ENTER_EMAIL:1,ANSWER_QUESTION:2,RESET_PASSWORD:3,DONE:4});function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.move;function r(){return n.apply(this,arguments)}function n(){return(n=Object(v.a)(m.a.mark((function e(){var r,n,a,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},n=r.email,e.next=3,K(n);case 3:return a=e.sent,t(ft.ANSWER_QUESTION,Object(j.a)({email:n},a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(he.jsx)(me,{onSubmit:r,children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(De.a,{type:"email",placeholder:"Email",name:"email",required:!0}),Object(he.jsx)("br",{}),Object(he.jsx)(fe.a,{type:"submit",variant:"success",disabled:e,children:"CONTINUE"})]})}})}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.move,r=e.payload;function n(e){return a.apply(this,arguments)}function a(){return(a=Object(v.a)(m.a.mark((function e(r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(r);case 2:return n=e.sent,t(ft.RESET_PASSWORD,n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(he.jsx)(me,{onSubmit:n,children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(De.a,{type:"hidden",name:"email",value:r.email,required:!0}),Object(he.jsx)(xt.a,{children:r.question1}),Object(he.jsx)(De.a,{type:"text",name:"answer1",required:!0}),Object(he.jsx)("br",{}),Object(he.jsx)(xt.a,{children:r.question2}),Object(he.jsx)(De.a,{type:"text",name:"answer2",required:!0}),Object(he.jsx)("br",{}),Object(he.jsx)(fe.a,{type:"submit",variant:"success",disabled:e,children:"ANSWER QUESTIONS"})]})}})}function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.move,r=e.payload;function n(e){return a.apply(this,arguments)}function a(){return(a=Object(v.a)(m.a.mark((function e(r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.password===r.passwordCheck){e.next=2;break}throw new Error("Passwords are different");case 2:return e.next=4,X(r);case 4:return n=e.sent,t(ft.DONE,n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(he.jsx)(me,{onSubmit:n,children:function(e){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(De.a,{type:"hidden",name:"token",value:r,required:!0}),Object(he.jsx)(xt.a,{children:"New Password"}),Object(he.jsx)(De.a,{type:"password",name:"password",required:!0}),Object(he.jsx)(xt.a,{children:"Verify Password"}),Object(he.jsx)(De.a,{type:"password",name:"passwordCheck",required:!0}),Object(he.jsx)(fe.a,{type:"submit",variant:"success",disabled:e,children:"RESET PASSWORD"})]})}})}var gt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={progress:ft.ENTER_EMAIL,payload:{}},n.move=n.move.bind(Object(w.a)(n)),n.getForm=n.getForm.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"move",value:function(e,t){this.setState({progress:e,payload:t})}},{key:"getForm",value:function(){var e=this.state,t=e.progress,r=e.payload;return t===ft.ENTER_EMAIL?Object(he.jsx)(mt,{move:this.move,payload:r}):t===ft.ANSWER_QUESTION?Object(he.jsx)(vt,{move:this.move,payload:r}):t===ft.RESET_PASSWORD?Object(he.jsx)(yt,{move:this.move,payload:r}):Object(he.jsx)(te.a,{to:"/login"})}},{key:"render",value:function(){return Object(he.jsx)(Oe.a,{className:"w-50 pt-5",children:this.getForm()})}}]),r}(c.a.Component),wt={fontSize:".75rem"},kt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={disableParticipate:!1},n.tryParticipate=n.tryParticipate.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryParticipate",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({disableParticipate:!0}),t=P()(this.props,"challenge._id"),e.prev=2,e.next=5,tt(t);case 5:r=e.sent,je.success('Participated in "'.concat(P()(r,"challenge.title",t),'"')),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),je.error(e.t0);case 12:this.setState({disableParticipate:!1});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.challenge;return e?Object(he.jsxs)(Re.a,{className:"mx-auto w-75 mb-5",children:[Object(he.jsxs)(Re.a.Header,{className:"d-flex justify-content-between",children:[Object(he.jsxs)("span",{children:[Object(he.jsx)(ee.b,{to:"/challenges/".concat(e._id),className:"h4 text-dark",children:e.title}),"\xa0",e.reward&&Object(he.jsx)("span",{style:wt,class:"badge bg-warning text-sm rounded-pill",children:"Rewarded"})]}),Object(he.jsx)(fe.a,{onClick:this.tryParticipate,variant:"success",className:"h-50 mr-0 w-25",size:"sm",disabled:this.state.disableParticipate,children:"Participate"})]}),Object(he.jsx)(Re.a.Body,{children:Object(he.jsx)(Re.a.Text,{children:e.description})}),Object(he.jsxs)(Re.a.Footer,{className:"text-muted",children:["Available Until: ",e.closes]})]}):null}}]),r}(c.a.Component),Ct=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={challenges:[],showCreateGroup:!1},n.tryGettingChallenges=n.tryGettingChallenges.bind(Object(w.a)(n)),n.onCreateGroupClose=n.onCreateGroupClose.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryGettingChallenges",value:function(){var e=this;(function(){return et.apply(this,arguments)})().then((function(t){e.setState({challenges:t})})).catch(je.error)}},{key:"onCreateGroupClose",value:function(e){this.setState({showCreateGroup:!1}),e&&this.tryGettingChallenges()}},{key:"componentDidMount",value:function(){this.tryGettingChallenges()}},{key:"render",value:function(){var e=this,t=this.state.challenges;return Array.isArray(t)?Object(he.jsxs)(Oe.a,{children:[Object(he.jsx)("h3",{children:"Available Challenges"}),t.map((function(e,t){return Object(he.jsx)(kt,{challenge:e},t)})),Object(he.jsx)(Pe.a,{className:"align-items-center",children:Object(he.jsx)(Ae.a,{className:"w-100",children:Object(he.jsx)(fe.a,{variant:"light",size:"lg",className:"mx-auto",style:{width:"200px"},onClick:function(){return e.setState({showCreateGroup:!0})},children:"+"})})})]}):Object(he.jsx)(Je,{})}}]),r}(c.a.Component);function St(){return Object(he.jsx)(Ve,{children:Object(he.jsx)(Ct,{})})}var Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reward;return t?Object(he.jsxs)(Re.a,{children:[Object(he.jsx)(Re.a.Header,{children:t.title}),Object(he.jsxs)(Re.a.Body,{children:[t.description,t.company]})]}):null};function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.participant,r=e.challenge,n=P()(t,"_id",null);if(!n)return null;var a=(t.progress/r.distance*100).toFixed(2);return console.log(t),Object(he.jsxs)(Oe.a,{className:"w-75",children:[Object(he.jsx)("h4",{children:"Progress"}),Object(he.jsxs)("h5",{children:[t.progress," KM\u2003(",a,"%)"]}),Object(he.jsxs)("div",{className:"w-100 text-right",children:[r.distance," KM"]}),Object(he.jsx)("div",{className:"w-100 bg-primary rounded-pill",children:Object(he.jsx)("div",{className:"mr-0 bg-success rounded-pill",style:{height:"25px",width:"".concat(a,"%")}})})]})}var Gt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={fetching:!0,participant:null,challenge:null},n.tryGettingChallenge=n.tryGettingChallenge.bind(Object(w.a)(n)),n.tryGettingProgress=n.tryGettingProgress.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.tryGettingChallenge(),this.tryGettingProgress()}},{key:"tryGettingChallenge",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nt(this.props.id).then((function(e){t.setState({fetching:!1,challenge:e})})).catch((function(e){je.error(e),t.setState({fetching:!1})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tryGettingProgress",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,r=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.abrupt("return",ct(t).then((function(e){r.setState({participant:e})})).catch((function(e){return e})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fetching,r=e.challenge,n=e.participant;return t?Object(he.jsx)(Je,{}):r?Object(he.jsxs)(Oe.a,{children:[Object(he.jsx)(kt,{challenge:r}),Object(he.jsx)(Nt,{reward:r.reward}),Object(he.jsx)(Et,{participant:n,challenge:r})]}):(je.error("Challenge doesn't exist"),Object(he.jsx)(te.a,{to:"/challenges"}))}}]),r}(c.a.Component);function Ut(){var e=Object(te.f)().id;return Object(he.jsx)(Ve,{children:Object(he.jsx)(Gt,{id:e})})}var Ft=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={},n.trySendingFitdata=n.trySendingFitdata.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"trySendingFitdata",value:function(e){var t=this;return function(e){return J.apply(this,arguments)}(e).then((function(e){console.log("Updated",e),t.props.login(e,t.props.token)}))}},{key:"render",value:function(){var e=this.props.me;return console.log("MEEEE",e),Object(he.jsxs)(Oe.a,{className:"w-75 mt-4",children:[Object(he.jsxs)("h1",{children:[e.firstName," ",e.lastName]}),Object(he.jsx)(Oe.a,{className:"w-75",children:Object(he.jsx)(me,{onSubmit:this.trySendingFitdata,children:function(t){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)(Pe.a,{children:[Object(he.jsx)(Ae.a,{children:Object(he.jsx)(xt.a,{className:"text-end mr-0",children:"Height"})}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(De.a,{required:!0,type:"number",defaultValue:e.height,name:"height"})})]}),Object(he.jsxs)(Pe.a,{children:[Object(he.jsx)(Ae.a,{children:Object(he.jsx)(xt.a,{className:"text-end mr-0",children:"Waist"})}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(De.a,{required:!0,type:"number",defaultValue:e.waist,name:"waist"})})]}),Object(he.jsxs)(Pe.a,{children:[Object(he.jsx)(Ae.a,{children:Object(he.jsx)(xt.a,{className:"text-end mr-0",children:"Pushup Score"})}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(De.a,{required:!0,type:"number",defaultValue:e.pushupScore,name:"pushupScore"})})]}),Object(he.jsxs)(Pe.a,{children:[Object(he.jsx)(Ae.a,{children:Object(he.jsx)(xt.a,{className:"text-end mr-0",children:"Situp Score"})}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(De.a,{required:!0,type:"number",defaultValue:e.situpScore,name:"situpScore"})})]}),Object(he.jsxs)(Pe.a,{children:[Object(he.jsx)(Ae.a,{children:Object(he.jsx)(xt.a,{className:"text-end mr-0",children:"Frequency"})}),Object(he.jsx)(Ae.a,{children:Object(he.jsx)(De.a,{required:!0,type:"number",defaultValue:e.freq||1,min:1,max:7,name:"freq"})})]}),Object(he.jsx)(Pe.a,{children:Object(he.jsx)(Ae.a,{children:Object(he.jsx)(fe.a,{type:"submit",variant:"success",disabled:t,children:"UPDATE FITNESS DATA"})})})]})}})})]})}}]),r}(c.a.Component),Tt={login:ae},Pt=Object(o.b)((function(e,t){return Object(j.a)({},e)}),Tt)(Ft);function At(){return Object(he.jsx)(Ve,{children:Object(he.jsx)(Pt,{})})}function Dt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,_.post("/admin/search",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=Object(v.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.next=3,_.post("/admin/user/"+t,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(v.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/admin/user/"+t,r);case 2:return n=e.sent,console.log("Res: "+n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=r(92),Wt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={foundUser:[]},n.trySearchingUser=n.trySearchingUser.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"trySearchingUser",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dt(t);case 3:r=e.sent,this.setState({foundUser:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),je.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.foundUser;return Object(he.jsx)(Ve,{message:"You are not an admin",children:Object(he.jsxs)(Oe.a,{children:[Object(he.jsx)(me,{onSubmit:this.trySearchingUser,children:function(){return Object(he.jsxs)(Oe.a,{children:[Object(he.jsx)("label",{htmlFor:"email",className:"floatLabel",type:"text",children:"User Email"}),Object(he.jsx)("input",{type:"text",placeholder:"Type user email",name:"email",required:!0}),Object(he.jsx)("button",{type:"submit",children:"Search"})]})}}),0!==t.length?Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{children:Object(he.jsxs)(It.a.Item,{action:!0,onClick:function(){var r;r=P()(t,"[0]._id"),e.props.history.push({pathname:"/admin/user/"+r})},children:[P()(t,"[0].firstName"),"\xa0",P()(t,"[0].lastName"),Object(he.jsx)("br",{}),P()(t,"[0].email")]})})}):Object(he.jsx)(he.Fragment,{})]})})}}]),r}(c.a.Component),Vt=Object(te.g)(Wt),zt=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={user:{}},n.tryUpdate=n.tryUpdate.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(v.a)(m.a.mark((function t(){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_t(e.props.match.params.id);case 3:r=t.sent,e.setState({user:r}),console.log(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),je.error(t.t0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}},{key:"tryUpdate",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lt(this.props.match.params.id,t);case 3:e.sent,je.success("SUCCESS"),this.setState({successful:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),je.error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return Object(he.jsxs)("div",{className:"signUpForm-v2",children:[Object(he.jsx)("h2",{children:"Update User"}),Object(he.jsx)("hr",{}),Object(he.jsx)(me,{onSubmit:this.tryUpdate,children:function(t){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("p",{className:"tableSection",children:"Personal Information"}),Object(he.jsxs)("p",{className:"double",children:[Object(he.jsx)("label",{htmlFor:"firstName",className:"floatLabel",type:"text",children:"First Name"}),Object(he.jsx)("input",{type:"text",defaultValue:e.firstName,name:"firstName",required:!0}),Object(he.jsx)("label",{htmlFor:"lastName",className:"floatLabel",type:"text",children:"Last Name"}),Object(he.jsx)("input",{type:"text",defaultValue:e.lastName,name:"lastName",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"email",className:"floatLabel",type:"text",children:"Email"}),Object(he.jsx)("input",{type:"text",defaultValue:e.email,name:"email",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"role",className:"floatLabel",type:"text",children:"Role"}),Object(he.jsx)("input",{type:"text",defaultValue:e.role,name:"role",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"password",className:"floatLabel",type:"text",children:"Password"}),Object(he.jsx)("input",{type:"text",defaultValue:e.password,name:"password",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"age",className:"floatLabel",type:"text",children:"Age"}),Object(he.jsx)("input",{type:"text",defaultValue:e.age,name:"age",required:!0})]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("label",{htmlFor:"gender",className:"floatLabel",type:"text",children:"Gender"}),Object(he.jsx)("input",{type:"text",defaultValue:e.gender,name:"gender",required:!0})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("button",{type:"submit",children:"Update"})]})}})]})}}]),r}(c.a.Component),Ht=Object(te.g)(zt);function Bt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/cusrep/challenges");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("/cusrep/challenge/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/cusrep/challenge/create",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(v.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/cusrep/challenge/".concat(t),r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var er=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={challenges:[]},n.tryGettingChallenges=n.tryGettingChallenges.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"tryGettingChallenges",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt();case 3:t=e.sent,this.setState({challenges:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),je.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.tryGettingChallenges()}},{key:"render",value:function(){var e=this.state.challenges;return Object(he.jsxs)(Oe.a,{children:[Object(he.jsxs)("h3",{children:["All Challenges",Object(he.jsx)(ee.b,{className:"btn btn-info",to:"/rep/challenges/create",children:"CREATE"})]}),Object(he.jsxs)(Ze,{data:e,children:[Object(he.jsx)(Ze.Col,{heading:"ID",sort:"_id",children:function(e){return Object(he.jsx)("small",{children:e._id})}}),Object(he.jsx)(Ze.Col,{heading:"Title",sort:"title",children:function(e){return e.title}}),Object(he.jsx)(Ze.Col,{heading:"State",sort:"state",children:function(e){return e.state}}),Object(he.jsx)(Ze.Col,{heading:"Closes",sort:"closes",children:function(e){return e.closes}}),Object(he.jsx)(Ze.Col,{children:function(e){return Object(he.jsx)(ee.b,{to:"/rep/challenges/".concat(e._id),className:"btn btn-sm rounded-pill btn-warning",children:"Edit"})}})]})]})}}]),r}(c.a.Component);function tr(){return Object(he.jsx)(Ve,{role:pe.CUSTOMER_REP,children:Object(he.jsx)(er,{})})}var rr=r(90),nr=r.n(rr),ar=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={challenge:{},exit:!1},n.tryGettingChallenge=n.tryGettingChallenge.bind(Object(w.a)(n)),n.trySending=n.trySending.bind(Object(w.a)(n)),n.isCreateMode=n.isCreateMode.bind(Object(w.a)(n)),n.formatDate=n.formatDate.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"isCreateMode",value:function(){return"create"===this.props.id}},{key:"tryGettingChallenge",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt(this.props.id);case 3:t=e.sent,this.setState({challenge:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),je.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"trySending",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isCreateMode()){e.next=6;break}return e.next=4,Qt(t);case 4:e.next=8;break;case 6:return e.next=8,Xt(this.props.id,t);case 8:this.setState({exit:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),je.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"formatDate",value:function(e){if(!e){if(!this.isCreateMode())return null;var t=new Date(Date.now());t.setMonth(t.getMonth()+1),e=t}return nr()(e).format("YYYY-MM-DD")}},{key:"componentDidMount",value:function(){this.isCreateMode()||this.tryGettingChallenge()}},{key:"render",value:function(){var e=this,t=this.state,r=t.challenge;if(t.exit)return Object(he.jsx)(te.a,{to:"/rep/challenges"});if(!this.isCreateMode()&&!r._id)return Object(he.jsx)(Je,{});var n=this.formatDate(r.closes);return Object(he.jsxs)(Oe.a,{children:[this.isCreateMode()?"CREATE":"UPDATE ".concat(this.props.id),Object(he.jsx)(me,{onSubmit:this.trySending,children:function(t){return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(xt.a,{children:"Title"}),Object(he.jsx)(De.a,{defaultValue:r.title,name:"title",required:!0}),Object(he.jsx)(xt.a,{children:"Distance"}),Object(he.jsx)(De.a,{defaultValue:r.distance,type:"number",name:"distance",required:!0}),Object(he.jsx)(xt.a,{children:"Closes"}),Object(he.jsx)(De.a,{defaultValue:n,name:"closes",type:"date",required:!0}),Object(he.jsx)(xt.a,{children:"State"}),Object(he.jsx)(De.a,{defaultValue:r.state||"A",name:"state",required:!0}),Object(he.jsx)(xt.a,{children:"Description"}),Object(he.jsx)(De.a,{defaultValue:r.description,as:"textarea",name:"description",required:!0}),Object(he.jsx)(fe.a,{type:"submit",variant:"success",disabled:t,children:e.isCreateMode()?"CREATE":"UPDATE"})]})}})]})}}]),r}(c.a.Component);function cr(){var e=Object(te.f)().id;return Object(he.jsx)(Ve,{role:pe.CUSTOMER_REP,children:Object(he.jsx)(ar,{id:e})})}var sr=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={},n}return Object(g.a)(r,[{key:"render",value:function(){return null}}]),r}(c.a.Component);function ir(){return Object(he.jsx)(Ve,{role:pe.CUSTOMER_REP,children:Object(he.jsx)(sr,{})})}var or=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={},n}return Object(g.a)(r,[{key:"render",value:function(){return null}}]),r}(c.a.Component);function ur(){var e=Object(te.f)().id;return Object(he.jsx)(Ve,{role:pe.CUSTOMER_REP,children:Object(he.jsx)(or,{id:e})})}var lr=Object(o.b)((function(e,t){return Object(j.a)({},e)}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.me;return Object(he.jsxs)(Oe.a,{className:"mt-3 w-75",children:[Object(he.jsx)("h1",{children:"Fat2Fit Web"}),Object(he.jsx)("hr",{}),t&&Object(he.jsxs)("h3",{children:["Hello ",t.firstName,"!"]}),Object(he.jsxs)("p",{children:["Welcome to Fat2Fit's web application. We're happy to see what you have to offer.",Object(he.jsx)("br",{})]}),Object(he.jsxs)("p",{children:["Some key features of the app:",Object(he.jsxs)("ul",{children:[Object(he.jsx)("li",{children:"Viewing challenge progress"}),Object(he.jsx)("li",{children:"Auto log in when launching"})]})]})]})}));function jr(){return Object(he.jsxs)(ee.a,{children:[Object(he.jsx)(de,{}),Object(he.jsx)(te.b,{path:"/",exact:!0,component:function(){return Object(he.jsx)(lr,{})}}),Object(he.jsx)(te.b,{path:"/login",exact:!0,component:function(){return Object(he.jsx)(ge,{})}}),Object(he.jsx)(te.b,{path:"/profile",exact:!0,component:function(){return Object(he.jsx)(At,{})}}),Object(he.jsx)(te.b,{path:"/signup",exact:!0,component:function(){return Object(he.jsx)(we,{})}}),Object(he.jsx)(te.b,{path:"/groups",exact:!0,component:function(){return Object(he.jsx)(Ye,{})}}),Object(he.jsx)(te.b,{path:"/groups/:id",exact:!0,component:function(){return Object(he.jsx)(Ot,{})}}),Object(he.jsx)(te.b,{path:"/challenges",exact:!0,component:function(){return Object(he.jsx)(St,{})}}),Object(he.jsx)(te.b,{path:"/challenges/:id",exact:!0,component:function(){return Object(he.jsx)(Ut,{})}}),Object(he.jsx)(te.b,{path:"/passreset",exact:!0,component:function(){return Object(he.jsx)(gt,{})}}),Object(he.jsx)(te.b,{path:"/searchUser",exact:!0,component:function(){return Object(he.jsx)(Vt,{})}}),Object(he.jsx)(te.b,{path:"/admin/user/:id",exact:!0,component:function(){return Object(he.jsx)(Ht,{})}}),Object(he.jsx)(te.b,{path:"/rep/challenges",exact:!0,component:function(){return Object(he.jsx)(tr,{})}}),Object(he.jsx)(te.b,{path:"/rep/challenges/:id",exact:!0,component:function(){return Object(he.jsx)(cr,{})}}),Object(he.jsx)(te.b,{path:"/rep/rewards",exact:!0,component:function(){return Object(he.jsx)(ir,{})}}),Object(he.jsx)(te.b,{path:"/rep/rewards/:id",exact:!0,component:function(){return Object(he.jsx)(ur,{})}})]})}var pr=function(e){Object(k.a)(r,e);var t=Object(C.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={loading:!0},n.touchServer=n.touchServer.bind(Object(w.a)(n)),n}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.touchServer()}},{key:"touchServer",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.a.get(G.SESS_COOKIE)){e.next=3;break}return e.abrupt("return",void this.setState({loading:!1}));case 3:return e.prev=3,e.next=6,H();case 6:t=e.sent,r=t.user,n=t.token,this.props.login(r,n),_.authorization(n),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?Object(he.jsx)(Je,{}):Object(he.jsx)(jr,{})}}]),r}(c.a.Component),hr={login:ae},br=Object(o.b)((function(e,t){return Object(j.a)({},e)}),hr)(pr),dr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,140)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};i.a.render(Object(he.jsx)(c.a.StrictMode,{children:Object(he.jsx)(o.a,{store:x,children:Object(he.jsx)(br,{})})}),document.getElementById("root")),dr()},78:function(e,t,r){},93:function(e,t,r){}},[[131,1,2]]]);
//# sourceMappingURL=main.c3fea973.chunk.js.map